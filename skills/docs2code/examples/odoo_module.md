# Example: Odoo Module Generation

## Input Specification

```markdown
# BIR 1601C Monthly Remittance Module

## Overview
Philippine BIR monthly withholding tax form for compensation.

## Data Model

### bir.form.1601c
| Field | Type | Required | Notes |
|-------|------|----------|-------|
| company_id | Many2one(res.company) | Yes | Filing company |
| period_start | Date | Yes | Start of period |
| period_end | Date | Yes | End of period |
| gross_compensation | Monetary | No | Total gross compensation |
| tax_withheld | Monetary | Computed | 10% of gross |
| status | Selection | Yes | draft, submitted, filed |

## Actions
- **Submit**: Validate fields, change status to 'submitted'
- **File**: Lock record, change status to 'filed'
```

## Generated Output

### File 1: `__manifest__.py`

```python
# =============================================================================
# AUTO-GENERATED by InsightPulseAI Docs-to-Code Pipeline
# Source: docs/specs/modules/ipai_bir_forms.md
# Generated: 2025-12-31
# DO NOT EDIT DIRECTLY - regenerate from source document
# =============================================================================
{
    'name': 'IPAI BIR 1601C',
    'version': '18.0.1.0.0',
    'category': 'Accounting/Localizations',
    'summary': 'Philippine BIR monthly withholding tax form',
    'author': 'InsightPulseAI',
    'website': 'https://insightpulse.ai',
    'license': 'LGPL-3',
    'depends': ['base', 'account'],
    'data': [
        'security/ir.model.access.csv',
        'views/bir_1601c_views.xml',
    ],
    'installable': True,
    'application': False,
}
```

### File 2: `models/bir_1601c.py`

```python
# =============================================================================
# AUTO-GENERATED by InsightPulseAI Docs-to-Code Pipeline
# Source: docs/specs/modules/ipai_bir_forms.md
# Generated: 2025-12-31
# DO NOT EDIT DIRECTLY - regenerate from source document
# =============================================================================
from odoo import api, fields, models
from odoo.exceptions import ValidationError


class BirForm1601C(models.Model):
    _name = 'bir.form.1601c'
    _description = 'BIR 1601C Monthly Remittance'
    _order = 'period_start desc'

    company_id = fields.Many2one(
        'res.company',
        string='Company',
        required=True,
        default=lambda self: self.env.company,
    )
    period_start = fields.Date(
        string='Period Start',
        required=True,
    )
    period_end = fields.Date(
        string='Period End',
        required=True,
    )
    gross_compensation = fields.Monetary(
        string='Gross Compensation',
        currency_field='currency_id',
    )
    tax_withheld = fields.Monetary(
        string='Tax Withheld',
        currency_field='currency_id',
        compute='_compute_tax_withheld',
        store=True,
    )
    status = fields.Selection(
        selection=[
            ('draft', 'Draft'),
            ('submitted', 'Submitted'),
            ('filed', 'Filed'),
        ],
        string='Status',
        default='draft',
        required=True,
    )
    currency_id = fields.Many2one(
        'res.currency',
        related='company_id.currency_id',
    )

    @api.depends('gross_compensation')
    def _compute_tax_withheld(self):
        for record in self:
            record.tax_withheld = record.gross_compensation * 0.10

    def action_submit(self):
        self.ensure_one()
        if not self.gross_compensation:
            raise ValidationError("Gross compensation is required before submission.")
        self.status = 'submitted'

    def action_file(self):
        self.ensure_one()
        if self.status != 'submitted':
            raise ValidationError("Form must be submitted before filing.")
        self.status = 'filed'
```

### File 3: `views/bir_1601c_views.xml`

```xml
<?xml version="1.0" encoding="utf-8"?>
<!--
AUTO-GENERATED by InsightPulseAI Docs-to-Code Pipeline
Source: docs/specs/modules/ipai_bir_forms.md
Generated: 2025-12-31
DO NOT EDIT DIRECTLY - regenerate from source document
-->
<odoo>
    <record id="view_bir_1601c_form" model="ir.ui.view">
        <field name="name">bir.form.1601c.form</field>
        <field name="model">bir.form.1601c</field>
        <field name="arch" type="xml">
            <form string="BIR 1601C">
                <header>
                    <button name="action_submit" type="object" string="Submit"
                            class="btn-primary"
                            invisible="status != 'draft'"/>
                    <button name="action_file" type="object" string="File"
                            class="btn-primary"
                            invisible="status != 'submitted'"/>
                    <field name="status" widget="statusbar"
                           statusbar_visible="draft,submitted,filed"/>
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="company_id"/>
                            <field name="period_start"/>
                            <field name="period_end"/>
                        </group>
                        <group>
                            <field name="gross_compensation"/>
                            <field name="tax_withheld"/>
                            <field name="currency_id" invisible="1"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_bir_1601c_tree" model="ir.ui.view">
        <field name="name">bir.form.1601c.tree</field>
        <field name="model">bir.form.1601c</field>
        <field name="arch" type="xml">
            <tree string="BIR 1601C Forms">
                <field name="company_id"/>
                <field name="period_start"/>
                <field name="period_end"/>
                <field name="gross_compensation"/>
                <field name="tax_withheld"/>
                <field name="status"/>
            </tree>
        </field>
    </record>

    <record id="action_bir_1601c" model="ir.actions.act_window">
        <field name="name">BIR 1601C</field>
        <field name="res_model">bir.form.1601c</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="menu_bir_1601c"
              name="BIR 1601C"
              parent="account.menu_finance"
              action="action_bir_1601c"
              sequence="100"/>
</odoo>
```

### File 4: `security/ir.model.access.csv`

```csv
id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink
access_bir_1601c_user,bir.form.1601c.user,model_bir_form_1601c,account.group_account_user,1,1,1,0
access_bir_1601c_manager,bir.form.1601c.manager,model_bir_form_1601c,account.group_account_manager,1,1,1,1
```

### File 5: `tests/test_bir_1601c.py`

```python
# =============================================================================
# AUTO-GENERATED by InsightPulseAI Docs-to-Code Pipeline
# Source: docs/specs/modules/ipai_bir_forms.md
# Generated: 2025-12-31
# DO NOT EDIT DIRECTLY - regenerate from source document
# =============================================================================
from odoo.tests import TransactionCase, tagged
from odoo.exceptions import ValidationError


@tagged('post_install', '-at_install')
class TestBir1601C(TransactionCase):

    @classmethod
    def setUpClass(cls):
        super().setUpClass()
        cls.form = cls.env['bir.form.1601c'].create({
            'company_id': cls.env.company.id,
            'period_start': '2025-01-01',
            'period_end': '2025-01-31',
            'gross_compensation': 100000.00,
        })

    def test_tax_withheld_computation(self):
        """Tax withheld should be 10% of gross compensation."""
        self.assertEqual(self.form.tax_withheld, 10000.00)

    def test_submit_without_gross_raises_error(self):
        """Submit should fail without gross compensation."""
        form = self.env['bir.form.1601c'].create({
            'company_id': self.env.company.id,
            'period_start': '2025-02-01',
            'period_end': '2025-02-28',
        })
        with self.assertRaises(ValidationError):
            form.action_submit()

    def test_submit_changes_status(self):
        """Submit should change status to 'submitted'."""
        self.form.action_submit()
        self.assertEqual(self.form.status, 'submitted')

    def test_file_requires_submitted_status(self):
        """File should fail if not submitted."""
        with self.assertRaises(ValidationError):
            self.form.action_file()

    def test_file_changes_status(self):
        """File should change status to 'filed'."""
        self.form.action_submit()
        self.form.action_file()
        self.assertEqual(self.form.status, 'filed')
```

---

*Example generated: 2025-12-31*
